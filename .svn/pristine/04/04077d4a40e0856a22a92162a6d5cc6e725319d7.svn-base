require(["src/components/taxation/js/taxation.server.js"],function(a){({init:function(){this.showPopFn()},showPopFn:function(){var a=this;"北京"==yf.userInfo.city?($("#taxCalculation .mortgage-cell").addClass("gide3"),$("#taxCalculation .auction-box").hide()):($("#taxCalculation .added-box").hide(),$("#taxCalculation .first-buy-box").hide()),$("#assess_target").val($("#valuationInput").val()),$("#assess_unit_price").val(yf.$params().jUnitPrice+"元/㎡"),$("#assess_total_price").val(yf.$params().jTotalPrice+"万元"),layer.open({area:["auto","auto"],type:1,closeBtn:!1,title:!1,shade:[.6,"#000"],resize:!1,content:$("#taxCalculation"),success:function(){$("#begin_assess").unbind("click").bind("click",function(){var e=$("#assess_oren_price").val();/^\d*$/.test(e)?Number(e)>Number(yf.$params().jTotalPrice)?layer.tips("原值不能大于评估总价","#assess_oren_price",{tips:[2,"#e84c3d"]}):a.reckonFn():layer.tips("原值应为正整数","#assess_oren_price",{tips:[2,"#e84c3d"]})}),yf.menuDown({node:$(".icon-question-mark"),showNode:$(".explain-box")})},end:function(){$("#taxCalculation").hide()}})},reckonFn:function(){var e={city:yf.userInfo.city,overYears:$("#house_quality").val(),houseArea:yf.$params().houseArea,houseType:$("#house_type").val(),assessmentValue:yf.$params().jTotalPrice,fvId:yf.$params().valuationId,originalValue:$("#assess_oren_price").val(),firstHouse:$("#first_house").val()};yf.loading("#calculator_result"),a.getTaxation(e).success(function(a){if(yf.msg(a)&&200==a.code){var e="";$("#deed_tax").text(yf.filterStr(a.data.deedTax)),$("#value_added_tax").text(yf.filterStr(a.data.valueAddedTax)),$("#personal_tax").text(yf.filterStr(a.data.personalTax)),$("#litigation_costs").text(yf.filterStr(a.data.litigationCosts)),$("#auction_tax").text(yf.filterStr(a.data.feeAuction)),"--"==yf.filterStr(a.data.deedTax)?a.data.deedTax=0:Number(a.data.deedTax),"--"==yf.filterStr(a.data.valueAddedTax)?a.data.valueAddedTax=0:Number(a.data.valueAddedTax),"--"==yf.filterStr(a.data.personalTax)?a.data.personalTax=0:Number(a.data.personalTax),"--"==yf.filterStr(a.data.litigationCosts)?a.data.litigationCosts=0:Number(a.data.litigationCosts),"--"==yf.filterStr(a.data.feeAuction)?a.data.feeAuction=0:Number(a.data.feeAuction),e="北京"==yf.userInfo.city?Number(a.data.deedTax)+Number(a.data.valueAddedTax)+Number(a.data.personalTax):Number(a.data.valueAddedTax)+Number(a.data.personalTax)+Number(a.data.litigationCosts)+Number(a.data.feeAuction),$("#tax_sum").text(e),setTimeout(function(){yf.removeLoading("#calculator_result")},2e3)}}).error(function(a){})}}).init();layui.use(["form"],function(){layui.form.render("select")})});